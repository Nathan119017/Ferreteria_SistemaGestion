{% extends 'Factura/base.html' %}
{% block contenido %}


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">



    <form  method="post">
        {% csrf_token %}

<div class="div" id="mn">
    <div class="card">
        <div class="card-body">
          <div class="container mb-5 mt-3">
            <div class="row d-flex align-items-baseline">
              
              
              <hr>
            </div>
      
            <div class="container">
              <div class="col-md-12">
                <div class="text-center">
                  <i class="" style="color:#5d9fc5 ;"></i>
                  <p class="pt-0">FERRETERIA LA FAMILIA</p>
                </div>
      
              </div>
      
      
              <div class="row">
                <div class="col-xl-8">
                  <ul class="list-unstyled">
                    <li class="text-muted">Cliente: {{ form.idcliente }}

                        {% if form.idcliente.errors %}
                        <div class="text-danger">
                            {{ form.idcliente.errors }}
                        </div>
                        {% endif %}</li>
                    <li class="text-muted">Metodo de Pago: {{ form.idmetododepago }}

                        {% if form.idmetododepago.errors %}
                        <div class="text-danger">
                            {{ form.idmetododepago.errors }}
                        </div>
                        {% endif %}</li>
                    <li class="text-muted">Empleado: {{ form.idempleado }}

                        {% if form.idempleado.errors %}
                        <div class="text-danger">
                            {{ form.idempleado.errors }}
                        </div>
                        {% endif %}</li>
                    <li class="text-muted">RTN: {{ form.RTN }}

                        {% if form.RTN.errors %}
                        <div class="text-danger">
                            {{ form.RTN.errors }}
                        </div>
                        {% endif %}</li>
                  </ul>
                </div>
                <div class="col-xl-4">
                  <p class="text-muted">Invoice</p>
                  <ul class="list-unstyled">
                    <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i> <span
                        class="fw-bold">ID Factura:</span>{{ form.num_factura }}

                        {% if form.num_factura.errors %}
                        <div class="text-danger">
                            {{ form.num_factura.errors }}
                        </div>
                        {% endif %}</li>
                    
                        <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i> <span
                            class="fw-bold">CAI:</span>{{ form.idcai }}
    
                            {% if form.idcai.errors %}
                            <div class="text-danger">
                                {{ form.idcai.errors }}
                            </div>
                            {% endif %}</li>
                            <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i> <span
                                class="fw-bold">Fecha De Creacion: </span>{{ form.fechaemision }}
        
                                {% if form.fechaemision.errors %}
                                <div class="text-danger">
                                    {{ form.fechaemision.errors }}
                                </div>
                                {% endif %}</li>
                    
                  </ul>
                </div>
              </div>



              <div class="row my-2 mx-1 justify-content-center">
                <table class="table table-striped table-borderless">
                  <thead style="background-color:#84B0CA ;" class="text-white">
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">Producto</th>
                      <th scope="col">Cantidad</th>
                      <th scope="col">Precio Unitario</th>
                      <th scope="col">Impuesto</th>
                      <th scope="col">Descuento</th>
                    </tr>
                  </thead>
                  <tbody>
                    
                    <!-- INICIO DE CADA LINEA -->
                    <tr>
                      <th scope="row">1</th>
                      <td>

                        {{ form.idproductsdetail }}

                    {% if form.idproductsdetail.errors %}
                    <div class="text-danger">
                        {{ form.idproductsdetail.errors }}
                    </div>
                    {% endif %}

                      </td>
                      <td>

                        {{ form.cantidad }}

                    {% if form.cantidad.errors %}
                    <div class="text-danger">
                        {{ form.cantidad.errors }}
                    </div>
                    {% endif %}

                      </td>
                      <td>

                        {{ form.precio_unitario }}

                    {% if form.precio_unitario.errors %}
                    <div class="text-danger">
                        {{ form.precio_unitario.errors }}
                    </div>
                    {% endif %}

                      </td>
                      <td>

                        {{ form.idtax }}

                        {% if form.idtax.errors %}
                        <div class="text-danger">
                            {{ form.idtax.errors }}
                        </div>
                        {% endif %}

                      </td>

                      <td>

                        {{ form.iddescuento }}

                    {% if form.iddescuento.errors %}
                    <div class="text-danger">
                        {{ form.iddescuento.errors }}
                    </div>
                    {% endif %}

                      
                
<!-- FINAL DE CADA LINEA -->

                    <!-- INICIO DE CADA LINEA -->
                    <tr>
                        <th scope="row">2</th>
                        <td>
  
                          {{ form.idproductsdetail }}
  
                      {% if form.idproductsdetail.errors %}
                      <div class="text-danger">
                          {{ form.idproductsdetail.errors }}
                      </div>
                      {% endif %}
  
                        </td>
                        <td>
  
                          {{ form.cantidad }}
  
                      {% if form.cantidad.errors %}
                      <div class="text-danger">
                          {{ form.cantidad.errors }}
                      </div>
                      {% endif %}
  
                        </td>
                        <td>
  
                          {{ form.precio_unitario }}
  
                      {% if form.precio_unitario.errors %}
                      <div class="text-danger">
                          {{ form.precio_unitario.errors }}
                      </div>
                      {% endif %}
  
                        </td>
                        <td>
  
                          {{ form.idtax }}
  
                          {% if form.idtax.errors %}
                          <div class="text-danger">
                              {{ form.idtax.errors }}
                          </div>
                          {% endif %}
  
                        </td>
  
                        <td>
  
                          {{ form.iddescuento }}
  
                      {% if form.iddescuento.errors %}
                      <div class="text-danger">
                          {{ form.iddescuento.errors }}
                      </div>
                      {% endif %}
  
                       
                  
  <!-- FINAL DE CADA LINEA -->

  <!-- INICIO DE CADA LINEA -->
  <tr>
    <th scope="row">3</th>
    <td>

      {{ form.idproductsdetail }}

  {% if form.idproductsdetail.errors %}
  <div class="text-danger">
      {{ form.idproductsdetail.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.cantidad }}

  {% if form.cantidad.errors %}
  <div class="text-danger">
      {{ form.cantidad.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.precio_unitario }}

  {% if form.precio_unitario.errors %}
  <div class="text-danger">
      {{ form.precio_unitario.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.idtax }}

      {% if form.idtax.errors %}
      <div class="text-danger">
          {{ form.idtax.errors }}
      </div>
      {% endif %}

    </td>

    <td>

      {{ form.iddescuento }}

  {% if form.iddescuento.errors %}
  <div class="text-danger">
      {{ form.iddescuento.errors }}
  </div>
  {% endif %}

    

<!-- FINAL DE CADA LINEA -->

<!-- INICIO DE CADA LINEA -->
<tr>
    <th scope="row">4</th>
    <td>

      {{ form.idproductsdetail }}

  {% if form.idproductsdetail.errors %}
  <div class="text-danger">
      {{ form.idproductsdetail.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.cantidad }}

  {% if form.cantidad.errors %}
  <div class="text-danger">
      {{ form.cantidad.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.precio_unitario }}

  {% if form.precio_unitario.errors %}
  <div class="text-danger">
      {{ form.precio_unitario.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.idtax }}

      {% if form.idtax.errors %}
      <div class="text-danger">
          {{ form.idtax.errors }}
      </div>
      {% endif %}

    </td>

    <td>

      {{ form.iddescuento }}

  {% if form.iddescuento.errors %}
  <div class="text-danger">
      {{ form.iddescuento.errors }}
  </div>
  {% endif %}

    

<!-- FINAL DE CADA LINEA -->

<!-- INICIO DE CADA LINEA -->
<tr>
    <th scope="row">5</th>
    <td>

      {{ form.idproductsdetail }}

  {% if form.idproductsdetail.errors %}
  <div class="text-danger">
      {{ form.idproductsdetail.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.cantidad }}

  {% if form.cantidad.errors %}
  <div class="text-danger">
      {{ form.cantidad.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.precio_unitario }}

  {% if form.precio_unitario.errors %}
  <div class="text-danger">
      {{ form.precio_unitario.errors }}
  </div>
  {% endif %}

    </td>
    <td>

      {{ form.idtax }}

      {% if form.idtax.errors %}
      <div class="text-danger">
          {{ form.idtax.errors }}
      </div>
      {% endif %}

    </td>

    <td>

      {{ form.iddescuento }}

  {% if form.iddescuento.errors %}
  <div class="text-danger">
      {{ form.iddescuento.errors }}
  </div>
  {% endif %}

    
<!-- FINAL DE CADA LINEA -->




                  </tbody>
      
                </table>
              </div>
              <div class="row">
                <div class="col-xl-8">
                    {{ form.Notas }}

                    {% if form.Notas.errors %}
                    <div class="text-danger">
                        {{ form.Notas.errors }}
                    </div>
                    {% endif %}
      
                </div>
                <div class="col-xl-3">
                  <p class="text-black float-start"><span class="text-black me-3"> <i class="" style="color:#84B0CA ;"></i> <span
                    class="fw-bold">Total:</span>{{ form.num_factura }}

                    {% if form.num_factura.errors %}
                    <div class="text-danger">
                        {{ form.num_factura.errors }}
                    </div>
                    {% endif %}</span><span
                      style="font-size: 25px;"></span></p>
                </div>
              </div>

            
              <hr>
              <div class="row">
                <div class="col-xl-10">
                  <p>Gracias Por Su Compra!</p>
                </div>
            </div>
                <div class="col-xl-2">
                    <button type="submit" class="btn btn-primary">Pagar Ahora</button>
               
                
                </div>
              </div>


            </form>



            </div>
          </div>
        </div>
      </div>
    
      <script type="text/javascript"> 

        function pdf(pa) {
          var element = document.getElementById(pa);
          html2canvas(element).then(canvas => {
              var imgData = canvas.toDataURL('image/png');
              var pdf = new jsPDF();
              pdf.addImage(imgData, 'PNG', 0, 0);
              pdf.save('documento.pdf');
          });
      }
    
        
    
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js" crossorigin="anonymous"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

{% endblock %}
